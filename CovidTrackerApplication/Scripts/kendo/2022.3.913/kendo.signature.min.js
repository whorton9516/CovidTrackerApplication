/**
 * Kendo UI v2022.3.913 (http://www.telerik.com/kendo-ui)
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(define){define("signature/signature-pad.min",["kendo.core.min","kendo.drawing.min"],function(){(function(){this.kendo=this.kendo||{};this.kendo.inputs=this.kendo.inputs||{};(function(t,m){var e=m.util,a=e.elementOffset,r=e.limitValue;var s=kendo.geometry.Point,v=kendo.geometry.Rect,k=kendo.geometry.transform;var i=function(){};var o=3;var n="#000";var l="#fff";var d=1;var p=200;var h=1;var u=750;var c=250;var g=1;var _=6;var f=function(){function t(t,e){if(e===void 0)e={};this.element=t;this.lastMoveTime=0;this.options=Object.assign({scale:g,precision:d,samplingRate:p,smooth:e.smooth!==false,color:e.color||n,backgroundColor:e.backgroundColor||l,strokeWidth:h,onChange:i,onDraw:i,onDrawEnd:i},e);this.pathOptions={stroke:{color:this.options.color,width:this.options.strokeWidth,lineCap:"round",lineJoin:"round"}};this.initSurface();this.attachEvents()}t.prototype.destroy=function(){this.detachEvents()};t.prototype.clear=function(){this.rootGroup.clear();this.path=null};Object.defineProperty(t.prototype,"isDrawing",{get:function(){return Boolean(this.points)},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"pathData",{get:function(){var t;return(t=this.path)===null||t===void 0?void 0:t.toString(o)},set:function(t){this.clear();this.path=m.MultiPath.parse(t,this.pathOptions);this.rootGroup.append(this.path)},enumerable:false,configurable:true});t.prototype.loadImage=function(t,e){if(e===void 0)e=[];if(!t){this.clear();return}var i=this.size,o=i[0],p=i[1];var n=o/this.options.scale;var a=p/this.options.scale;var s=e[0]||n*_;var r=e[1]||a*_;var h=n/s;var u=a/r;var l=Math.min(h,u);var d=new m.Image(t,new kendo.geometry.Rect([0,0],[s,r]));d.transform(k().scale(l,l));this.clear();this.rootGroup.append(d)};t.prototype.exportImage=function(t){var e;var i=this.size,p=i[0],h=i[1];var o=p/this.options.scale;var n=h/this.options.scale;var a=(t===null||t===void 0?void 0:t.width)||o*_;var s=(t===null||t===void 0?void 0:t.height)||n*_;var u=a/o;var c=s/n;var r=Math.min(u,c);var l=new v([0,0],[a,s]);var d=new m.Group({clip:m.Path.fromRect(l)});var g=new m.Group({transform:k().scale(r,r)});var f=m.Path.fromRect(l,{fill:{color:this.options.backgroundColor}});d.append(f);d.append(g);(e=g.children).push.apply(e,this.rootGroup.children);return m.exportImage(d,Object.assign({width:a,height:s},t))};t.prototype.resize=function(){this.surface.resize(true)};t.prototype.setOptions=function(t){Object.assign(this.options,t);this.pathOptions.stroke.color=this.options.color;this.pathOptions.stroke.width=this.options.strokeWidth;if(this.path){this.path.options.set("stroke.color",this.options.color);this.path.options.set("stroke.width",this.options.strokeWidth)}this.background.options.set("fill.color",this.options.backgroundColor)};t.prototype.initSurface=function(){this.surface=m.Surface.create(this.element,{type:"canvas"});this.element.style.touchAction="none";var t=this.options.scale;this.rootGroup=new m.Group({transform:k().scale(t,t)});var e=this.element.offsetWidth||u;var i=this.element.offsetHeight||c;this.size=[e,i];this.background=m.Path.fromRect(new v([0,0],this.size),{fill:{color:this.options.backgroundColor}});this.surface.draw(this.background);this.surface.draw(this.rootGroup)};t.prototype.attachEvents=function(){this.onPointerDown=this.onPointerDown.bind(this);this.onPointerMove=this.onPointerMove.bind(this);this.onPointerUp=this.onPointerUp.bind(this);this.element.addEventListener("pointerdown",this.onPointerDown);this.element.addEventListener("pointermove",this.onPointerMove);this.element.addEventListener("pointerup",this.onPointerUp)};t.prototype.detachEvents=function(){this.element.removeEventListener("pointerdown",this.onPointerDown);this.element.removeEventListener("pointermove",this.onPointerMove);this.element.removeEventListener("pointerup",this.onPointerUp)};t.prototype.touchPoint=function(t){var e=a(this.element);var i=t.pageX;var o=t.pageY;var n=1/this.options.scale;return new s(i-e.left,o-e.top).scale(n,n)};t.prototype.onPointerDown=function(t){if(this.options.readonly||!t.isPrimary||!b(t))return;if(!this.path){this.path=new m.MultiPath(this.pathOptions);this.rootGroup.append(this.path)}this.options.onDraw();this.element.setPointerCapture(t.pointerId);var e=this.touchPoint(t);this.points=[e];this.path.moveTo(e)};t.prototype.onPointerMove=function(t){if(!this.points||!t.isPrimary)return;var e=(new Date).getTime();var i=e-this.lastMoveTime;var o=1e3/r(this.options.samplingRate,1,1e4);if(i<o)return;else this.lastMoveTime=e;var n=this.touchPoint(t);var a=this.points[this.points.length-1];var s=1/r(this.options.precision,.01,100);if(n.distanceTo(a)<s)return;this.points.push(n);this.path.lineTo(n)};t.prototype.onPointerUp=function(t){if(!t.isPrimary||!this.path||!this.points||this.options.readonly)return;if(this.options.smooth){var e=m.Path.curveFromPoints(this.points);this.path.paths.splice(this.path.paths.length-1,1,e)}this.points=null;this.options.onDrawEnd();this.options.onChange(this.pathData)};return t}();function b(t){return typeof t.button!=="number"||t.button===0}t.SignaturePad=f})(this.kendo.inputs.common=this.kendo.inputs.common||{},kendo.drawing)})()})}("function"==typeof define&&define.amd?define:function(t,e,i){(i||e)()}),function(define){define("kendo.signature.min",["kendo.core.min","kendo.drawing.min","./signature/signature-pad.min","kendo.dialog.min","kendo.html.button.min"],function(){var t={id:"signature",name:"Signature",category:"web",description:"The Signature component ...",depends:["core","dialog","html.button"]},s=window.kendo.jQuery,i=void 0,r=window.kendo,n=r.ui.Widget,u=r.ui.Dialog,a=r.html,l=r._outerWidth,d=r._outerHeight,p=r.inputs.common.SignaturePad,e=".kendoSignature",h="change",c="open",g="close",o="click",f=n.extend({init:function(t,e){var i=this;var o;e=e||{};n.fn.init.call(i,t,e);i._createElements(i.element,i.options.maximizable?"maxi":"",false,1);i._createInput();i.wrapper=i.element;o=s.extend(true,{},i.options,{onChange:function(){var t=l(i.element,false);var e=d(i.element,false);i._pad.exportImage({width:t*i.options.exportScale,height:e*i.options.exportScale}).then(function(t){i._value=t;i._input.val(t);i.trigger(h)});i._pad.exportImage({width:t*i.options.exportScale*i.options.popupScale,height:e*i.options.exportScale*i.options.popupScale}).then(function(t){i._dialogPad.loadImage(t)})},onDraw:function(){i.element.find(".k-button").hide()},onDrawEnd:function(){i.element.find(".k-button").show()}});i._pad=new p(i.element.find(".k-signature-canvas")[0],o);i._createDialogPad();i._attachHandlers();if(i.options.value){i._pad.loadImage(i.options.value);i._dialogPad.loadImage(i.options.value)}if(i.options.readonly)i.readonly();if(!i.options.enable)i.enable(false)},options:{name:"Signature",color:"#000000",enable:true,fillMode:"solid",hideLine:false,maximizable:true,popupScale:3,readonly:false,rounded:"medium",size:"medium",smooth:false,strokeWidth:1,exportScale:2,value:""},events:[h,c,g],setOptions:function(t){var e=this.options;this._clearCssClasses(e);this.element.removeClass(r.getValidCssClass("k-signature-","size",e.size));r.deepExtend(e,t);this.options=e;if(e.value){this._pad.loadImage(e.value);this._dialogPad.loadImage(e.value)}this._pad.setOptions(e);this._dialogPad.setOptions(e);this.enable(e.enable);this.readonly(e.readonly);this.element.width(e.width);this.element.height(e.height);this._dialogPadEl.width(e.width*e.popupScale);this._dialogPadEl.height(e.height*e.popupScale);this._hideLine(this.element);this._hideLine(this._dialogPadEl);this._applyCssClasses(this.element);this.element.find(".k-signature-maximize").toggle(e.maximizable);this.element.removeClass(r.getValidCssClass("k-input-","size",this.options.size));this.element.addClass(r.getValidCssClass("k-signature-","size",this.options.size))},close:function(){if(!this._dialog)return;this._dialog.close()},open:function(){if(!this.options.maximizable||!this._dialog)return;this._dialog.open()},destroy:function(){var t=this;if(t._pad){t._pad.destroy();t._pad=null}if(t._dialogPad){t._dialogPad.destroy();t._dialogPad=null;t._dialogEl.off(e);t._dialog.destroy();t._dialog=null}t.element.off(e);n.fn.destroy.call(t)},enable:function(t){var t=t!==false;if(!t)this._dialog.close();this.element.find(".k-button").toggle(t);this.element.toggleClass("k-disabled",!t);this._pad.options.readonly=!t;this._dialogPad.options.readonly=!t},readonly:function(t){var e=this;var t=t!==false;e._pad.options.readonly=t;e._dialogPad.options.readonly=t;var i=e.element.find(".k-signature-clear");if(!i.length&&!t){s(a.renderButton('<button class="k-signature-action k-signature-clear"></button>',{icon:"close",size:this.options.size,fillMode:"flat"})).insertAfter(e.element.find(".k-signature-actions-bottom"));s(a.renderButton('<button class="k-signature-action k-signature-clear"></button>',{icon:"close",size:this.options.size,fillMode:"flat"})).insertAfter(e._dialogEl.find(".k-signature-actions-bottom"))}e.element.find(".k-signature-clear").toggle(!t);e._dialogEl.find(".k-signature-clear").toggle(!t)},value:function(t){if(t!==i){this._value=t;this._input.val(t);this._pad.loadImage(t)}return this._value},reset:function(){this._dialogPad.clear();this._pad.clear();this._value=""},_attachHandlers:function(){var t=this;t.element.on(o+e,".k-signature-clear",function(){t._pad.clear();t._dialogPad.clear()}).on(o+e,".k-signature-maximize",function(){t._dialog.open()})},_createInput:function(){var t=this;var e=t.element.attr("name");var i=t.element.attr(r.attr("bind"));var o=t.element.attr("aria-labelledby");var n=t.element.attr("autocomplete");var a=t.element.attr("required");t._input=s("<input class='k-hidden' />").appendTo(t.element);if(e){t._input.attr("name",e);t.element.removeAttr("name")}if(o){t._input.attr("aria-labelledby",o);t.element.removeAttr("aria-labelledby")}if(n){t._input.attr("autocomplete",n);t.element.removeAttr("autocomplete")}if(a){t._input.attr("required",a);t.element.removeAttr("required")}},_hideLine:function(t){var e=t.find(".k-signature-line");if(!this.options.hideLine&&!e.length)s("<div class='k-signature-line'>").appendTo(t);if(this.options.hideLine)e.remove()},_createElements:function(t,e,i,o){s("<div class='k-signature-actions k-signature-actions-top'></div>").appendTo(t);if(e=="mini")s(a.renderButton('<button class="k-signature-action k-signature-minimize"></button>',{icon:"window-minimize",size:this.options.size,fillMode:"flat"})).appendTo(t.find(".k-signature-actions-top"));if(e=="maxi")s(a.renderButton('<button class="k-signature-action k-signature-maximize"></button>',{icon:"hyperlink-open",size:this.options.size,fillMode:"flat"})).appendTo(t.find(".k-signature-actions-top"));s("<div class='k-signature-canvas'>").appendTo(t);this._hideLine(t);s("<div class='k-signature-actions k-signature-actions-bottom'></div>").appendTo(t);if(!this.options.readonly)s(a.renderButton('<button class="k-signature-action k-signature-clear"></button>',{icon:"close",size:this.options.size,fillMode:"flat"})).appendTo(t.find(".k-signature-actions-bottom"));t.addClass("k-input k-signature");t.width(this.options.width*o);t.height(this.options.height*o);if(i)t.addClass("k-signature-maximized");this._applyCssClasses(t);t.removeClass(r.getValidCssClass("k-input-","size",this.options.size));t.addClass(r.getValidCssClass("k-signature-","size",this.options.size))},_createDialogPad:function(){var i=this;var t=null;i._dialogEl=s("<div>").appendTo(i.element);i._dialog=new u(i._dialogEl,{title:false,closable:false,open:function(){i.trigger(c)},close:function(){i.trigger(g)}});i._dialogPadEl=s("<div>").appendTo(i._dialog.element);i._createElements(i._dialogPadEl,"mini",true,this.options.popupScale);t=i._dialogPadEl.find(".k-signature-canvas")[0];i._dialogPad=new p(t,s.extend(true,{},i.options,{scale:i.options.popupScale,onChange:function(){var t=l(i.element,false);var e=d(i.element,false);i._dialogPad.exportImage({width:t*i.options.exportScale,height:e*i.options.exportScale}).then(function(t){i._pad.loadImage(t);i._value=t;i._input.val(t);i.trigger(h)})},onDraw:function(){i._dialogEl.find(".k-button").hide()},onDrawEnd:function(){i._dialogEl.find(".k-button").show()}}));i._dialog.close();i._dialogEl.on(o+e,".k-signature-clear",function(){i._dialogPad.clear();i._pad.clear()}).on(o+e,".k-signature-minimize",function(){i._dialog.close()})}});return r.cssProperties.registerPrefix("Signature","k-input-"),r.ui.plugin(f),window.kendo})}("function"==typeof define&&define.amd?define:function(t,e,i){(i||e)()});
//# sourceMappingURL=kendo.signature.min.js.map
