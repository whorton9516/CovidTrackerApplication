{"version":3,"file":"kendo.colorpicker.min.js","sources":["kendo.colorpicker.js"],"sourcesContent":["(function(f, define){\n    define('colorpicker/colorselector',[ \"kendo.core\" ], f);\n})(function(){\n\n(function($, undefined) {\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        parseColor = kendo.parseColor,\n        TabKeyTrap = kendo.ui.Popup.TabKeyTrap,\n\n        extend = $.extend,\n\n        NS = \".kendoColorTools\",\n        KEYDOWN_NS = \"keydown\" + NS,\n        DISABLED = \"k-disabled\";\n\n    var ColorSelector = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n            options = that.options;\n\n            if (element.is(\"input\")) {\n                that._initialValue();\n                that._preventDefaultLabelClick();\n            } else {\n                that._value = parseColor(options.value);\n            }\n\n            that._tabIndex = element.attr(\"tabIndex\") || 0;\n\n            if (options._standalone) {\n                that._triggerSelect = that._triggerChange;\n            }\n        },\n        options: {\n            name: \"ColorSelector\",\n            ARIATemplate: 'Current selected color is #=data || \"none\"#',\n            value: null,\n            _standalone: true\n        },\n        events: [\n            \"change\",\n            \"select\",\n            \"forceSelect\",\n            \"cancel\"\n        ],\n        color: function(value) {\n            if (value !== undefined) {\n                this._value = parseColor(value);\n\n                if (this.element.is(\"input\")) {\n                    this._updateInput(this._value);\n                }\n\n                this._updateUI(this._value);\n            }\n\n            return this._value;\n        },\n        value: function(color) {\n            color = this.color(color);\n\n            if (color) {\n                if (this.options.opacity) {\n                    color = color.toCssRgba();\n                } else {\n                    color = color.toCss();\n                }\n            }\n\n            return color || null;\n        },\n        enable: function(enable) {\n            if (arguments.length === 0) {\n                enable = true;\n            }\n\n            if (this.element.is(\"input\")) {\n                this.element.attr(\"disabled\", !enable);\n            }\n\n            this.wrapper.toggleClass(DISABLED, !enable);\n\n            this._onEnable(enable);\n        },\n        _attachFocusEvents: function () {\n            this.wrapper.on(KEYDOWN_NS, this._navKeydown.bind(this))\n                .on(\"focusout\" + NS, this._navFocusout.bind(this));\n        },\n        _initialValue: function() {\n            var element = this.element,\n                options = this.options,\n                value = options.value || element.attr(\"value\");\n\n            if (value) {\n                this._value = parseColor(value, true);\n            }\n\n            this.element.val(value);\n        },\n        _innerTabindex: function(value) {\n            var wrapper = this.wrapper;\n\n            wrapper.find(\".k-draghandle, .k-button, .k-input-inner\").attr(\"tabindex\", value);\n        },\n        _isInputTypeColor: function() {\n            var el = this.element[0];\n            return (/^input$/i).test(el.tagName) && (/^color$/i).test(el.type);\n        },\n        _navFocusout: function() {\n            var that = this,\n                wrapper = that.wrapper[0];\n\n            setTimeout(function() {\n                if (!wrapper.contains(document.activeElement)) {\n                    that._releaseInnerFocus();\n                }\n            });\n        },\n        _navKeydown: function(e) {\n            var wrapper = this.wrapper;\n\n            if (e.keyCode === kendo.keys.ENTER && wrapper.attr(\"tabindex\")) {\n                e.preventDefault();\n\n                this._trapInnerFocus();\n            } else if (e.keyCode === kendo.keys.ESC && wrapper.attr(\"tabindex\") === undefined) {\n                this._releaseInnerFocus();\n                this.wrapper.trigger(\"focus\");\n            }\n        },\n        _releaseInnerFocus: function() {\n            this._tabKeyTrap.removeTrap();\n            this.wrapper.attr(\"tabindex\", this._tabIndex);\n            this._innerTabindex(-1);\n        },\n        _select: function(color, nohooks) {\n            var prev = this._value;\n\n            color = this.color(color);\n\n            if (!nohooks) {\n                if ((color && (!prev || !color.equals(prev))) || (color === null && color !== prev)) {\n                    this.element.trigger(\"change\");\n                    this.trigger(\"change\", { value: this.value() });\n                } else if (!this._standalone) {\n                    this.trigger(\"cancel\");\n                }\n            }\n        },\n        _navigation: function() {\n            var value = this.value();\n\n            if (value && value.indexOf(\"rgba\") > -1) {\n                value = value.replace(\"rgba\", \"RGBA\");\n            };\n\n            if (this.options._otOfPicker) {\n                this._innerTabindex(-1);\n                this._attachFocusEvents();\n                this._tabKeyTrap = new TabKeyTrap(this.wrapper);\n\n                this._ariaTemplate = kendo.template(this.options.ARIATemplate);\n                this.wrapper.attr({\n                    \"aria-label\": this._ariaTemplate(value || \"\"),\n                    tabindex: this._tabIndex\n                });\n            } else {\n                this.wrapper.removeAttr(\"tabindex\");\n                this.wrapper.removeAttr(\"aria-label\");\n                this.wrapper.removeAttr(\"role\");\n                this.wrapper.removeAttr(\"aria-keyshortcuts\");\n            }\n        },\n        _trapInnerFocus: function() {\n            this._innerTabindex(0);\n            this.wrapper.removeAttr(\"tabindex\");\n            this.wrapper.find(\".k-hsv-draghandle\").trigger(\"focus\");\n            this._tabKeyTrap.trap();\n        },\n        _triggerSelect: function(color) {\n            triggerEvent(this, \"select\", color);\n        },\n        _triggerChange: function(color) {\n            triggerEvent(this, \"change\", color);\n        },\n        destroy: function() {\n            if (this.element) {\n                this.element.off(NS);\n            }\n\n            if (this.wrapper) {\n                this.wrapper.off(KEYDOWN_NS);\n                this.wrapper.off(NS).find(\"*\").off(NS);\n                this.wrapper = null;\n            }\n\n            Widget.fn.destroy.call(this);\n        },\n        _preventDefaultLabelClick: function() {\n            // if there exists a <label> associated with this\n            // input field, we must catch clicks on it to prevent\n            // the built-in color picker from showing up.\n            // https://github.com/telerik/kendo-ui-core/issues/292\n            var element = this.element,\n                label = element.closest(\"label\"),\n                id = element.attr(\"id\");\n\n            if (id) {\n                label = label.add('label[for=\"' + id + '\"]');\n            }\n            label.on(\"click\", function(ev) {\n                ev.preventDefault();\n            });\n        },\n        _updateUI: $.noop,\n        _updateInput: function(value) {\n            var formattedValue = \"\",\n                valueForLabel;\n\n            if (value) {\n                if (this._isInputTypeColor() || value.a == 1) {\n                    // seems that input type=\"color\" doesn't support opacity\n                    // in colors; the only accepted format is hex #RRGGBB\n                    formattedValue = value.toCss();\n                } else {\n                    formattedValue = value.toCssRgba();\n                }\n\n                this.element.val(formattedValue);\n            }\n\n            if (this.options._otOfPicker) {\n                if (!this._ariaTemplate) {\n                    this._ariaTemplate = kendo.template(this.options.ARIATemplate);\n                }\n\n                valueForLabel = this.value();\n\n                if (valueForLabel && valueForLabel.indexOf(\"rgba\") > -1) {\n                    valueForLabel = valueForLabel.replace(\"rgba\", \"RGBA\");\n                };\n\n                this.wrapper.attr(\"aria-label\", this._ariaTemplate(valueForLabel || \"\"));\n            }\n        },\n        _selectOnHide: function() {\n            return null;\n        },\n        _cancel: function() {\n            this.trigger(\"cancel\");\n        }\n    });\n\n    function triggerEvent(self, type, color) {\n        color = parseColor(color);\n\n        if ((color && !color.equals(self.color())) || color !== self.color()) {\n            if (type == \"change\") {\n                // UI is already updated.  setting _value directly\n                // rather than calling self.color(color) to avoid an\n                // endless loop.\n                self._value = color;\n                self._updateInput(self._value);\n            }\n            if (color && color.a != 1) {\n                color = color.toCssRgba();\n            } else if (color) {\n                color = color.toCss();\n            }\n\n            self.trigger(type, { value: color });\n        }\n    }\n\n    extend(ui, {\n        colorpicker: {\n            ColorSelector: ColorSelector\n        }\n    });\n\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define){\n    define('colorpicker/contrastToolUtils',[\n        \"kendo.core\"\n    ], f);\n})(function(){\n\n(function($, undefined){\n    var colorpicker = kendo.ui.colorpicker,\n        extend = $.extend,\n        Color = kendo.Color,\n        parseColor = kendo.parseColor,\n\n        AA_CONTRAST = 4.5,\n        AAA_CONTRAST = 7,\n        STEP_COUNT = 16;\n\n    // Color utils - calc contrast\n\n    function getContrast(luminance1, luminance2) {\n        var brightest = Math.max(luminance1, luminance2);\n        var darkest = Math.min(luminance1, luminance2);\n        return (brightest + 0.05) / (darkest + 0.05);\n    }\n\n    function getContrastFromTwoRGBAs(a, b) {\n        return getContrast(\n            getLuminance(getRGBFromRGBA(a, b)),\n            getLuminance(getRGBFromRGBA(b, { r: 0, g: 0, b: 0, a: 1 })));\n    }\n\n    function getLuminance (rgb) {\n        var a = [rgb.r, rgb.g, rgb.b].map(function (v) {\n            v /= 255;\n            return v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\n        });\n        return a[0] * 0.2126 + a[1] * 0.7152 + a[2] * 0.0722;\n    }\n\n    function getRGBFromRGBA(foregroundColor, backgroundColor) {\n        var r1 = fitIntoBounds(foregroundColor.r, 0, 255);\n        var g1 = fitIntoBounds(foregroundColor.g, 0, 255);\n        var b1 = fitIntoBounds(foregroundColor.b, 0, 255);\n        var a1 = fitIntoBounds(foregroundColor.a, 0, 1);\n\n        var r2 = fitIntoBounds(backgroundColor.r, 0, 255);\n        var g2 = fitIntoBounds(backgroundColor.g, 0, 255);\n        var b2 = fitIntoBounds(backgroundColor.b, 0, 255);\n\n        return {\n            r: Math.round(((1 - a1) * r2) + (a1 * r1)),\n            g: Math.round(((1 - a1) * g2) + (a1 * g1)),\n            b: Math.round(((1 - a1) * b2) + (a1 * b1))\n        };\n    }\n\n    function fitIntoBounds(contender, min, max) {\n        if (!isPresent(contender) || isNaN(contender)) {\n            return min;\n        }\n\n        return contender <= min ? min : contender >= max ? max : contender;\n    }\n\n    function isPresent(value) { return value !== null && value !== undefined; }\n\n\n    // Color utils - Contrast tool SVG path\n\n    function renderSvgCurveLine(gradientRectMetrics, hsva, backgroundColor) {\n        var findValue = function (contrast, saturation, low, high, comparer) {\n            var mid = (low + high) / 2;\n            var currentHsva = extend({}, hsva, { s: saturation / gradientRectMetrics.width, v: 1 - mid / gradientRectMetrics.height });\n            var currentContrast = getContrastFromTwoRGBAs(parseColor(getColorFromHSV(currentHsva)).toBytes(), parseColor(backgroundColor).toBytes());\n\n            if (low + 0.5 > high) {\n                if (currentContrast < contrast + 1 && currentContrast > contrast - 1) {\n                    return mid;\n                } else {\n                    return null;\n                }\n            }\n\n            if (comparer(currentContrast, contrast)) {\n                return findValue(contrast, saturation, low, high - (high - low) / 2, comparer);\n            }\n            return findValue(contrast, saturation, low + (high - low) / 2, high, comparer);\n        };\n\n        var comparer = function (a, b) {\n            return a > b;\n        };\n\n        var reversedComparer = function (a, b) {\n            return a < b;\n        };\n\n        var getPaths = function (contrast, stepCount, reversed) {\n            var points = [];\n            for (var i = 0; i <= gradientRectMetrics.width; i += gradientRectMetrics.width/stepCount) {\n               var value = findValue(contrast, i, 0, gradientRectMetrics.height, reversed ? reversedComparer : comparer);\n                if (value !== null){\n                    points.push([i, value]);\n                }\n            }\n            return points;\n        };\n\n        var bezierCommandCalc = bezierCommand(controlPoint(line));\n        var paths = svgPath(getPaths(AA_CONTRAST, STEP_COUNT, false), bezierCommandCalc) +\n                svgPath(getPaths(AA_CONTRAST, STEP_COUNT, true), bezierCommandCalc) +\n                svgPath(getPaths(AAA_CONTRAST, STEP_COUNT, false), bezierCommandCalc) +\n                svgPath(getPaths(AAA_CONTRAST, STEP_COUNT, true), bezierCommandCalc);\n\n        return '<svg xmlns=\"http://www.w3.org/2000/svg\" style=\"position: absolute; overflow: visible; pointer-events: none; left: 0px; top: 0px; z-index: 3;\" >' +\n                    paths  + '</svg>';\n    }\n\n    function svgPath(points, command) {\n        if (points.length === 0){\n            return '';\n        }\n\n        var reducer = function (acc, point, i, a) {\n            return i === 0 ?\n                // if first point\n                kendo.format(\"M {0},{1}\", point[0], point[1]) :\n                // else\n                kendo.format(\"{0} {1}\", acc, command(point, i, a));\n        };\n\n        // build the d attributes by looping over the points\n        var d = points.reduce(reducer, \"\");\n\n        return kendo.format('<path d=\"{0}\" fill=\"none\" stroke=\"white\" stroke-width=\"1\"/>', d);\n    }\n\n    function bezierCommand(controlPointCalc) {\n        return function(point, i, a) {\n            // start control point\n            var cps = controlPointCalc(a[i - 1], a[i - 2], point); // [cpsX, cpsY]\n\n            // end control point\n            var cpe = controlPointCalc(point, a[i - 1], a[i + 1], true); //  [cpeX, cpeY]\n\n            return kendo.format(\"C {0},{1} {2},{3} {4},{5}\", cps[0], cps[1], cpe[0], cpe[1], point[0], point[1]);\n        };\n    }\n\n    function controlPoint(lineCalc) {\n        return function (current, previous, next, reverse) {\n            // when 'current' is the first or last point of the array\n            // 'previous' and 'next' are undefined\n            // replace with 'current'\n                var p = previous || current;\n                var n = next || current;\n                var smooth = 0.1;\n\n                // properties of the line between previous and next\n                var l = lineCalc(p, n);\n\n                // If is end-control-point, add PI to the angle to go backward\n                var angle = l.angle + (reverse ? Math.PI : 0);\n                var length = l.length * smooth;\n\n                // The control point position is relative to the current point\n                var x = current[0] + Math.cos(angle) * length;\n                var y = current[1] + Math.sin(angle) * length;\n\n                return [x, y];\n        };\n    }\n\n    function line (pointA, pointB) {\n        var lengthX = pointB[0] - pointA[0];\n        var lengthY = pointB[1] - pointA[1];\n\n        return {\n            length: Math.sqrt(Math.pow(lengthX, 2) + Math.pow(lengthY, 2)),\n            angle: Math.atan2(lengthY, lengthX)\n        };\n    }\n\n    function getColorFromHSV (hsva) {\n        var hue = fitIntoBounds(hsva.h, 0, 359.9);\n        var saturation = fitIntoBounds(hsva.s, 0, 1);\n        var value = fitIntoBounds(hsva.v, 0, 1);\n        var alpha = fitIntoBounds(hsva.a, 0, 1);\n\n        return Color.fromHSV(hue, saturation, value, alpha).toCssRgba();\n    }\n\n    extend(colorpicker, {\n        contrastToolUtils: {\n            getContrastFromTwoRGBAs: getContrastFromTwoRGBAs,\n            renderSvgCurveLine: renderSvgCurveLine\n        }\n    });\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define){\n    define('colorpicker/colorgradient',[ \"kendo.core\", \"kendo.popup\", \"./contrastToolUtils\" ], f);\n})(function(){\n    var __meta__ = {\n        id: \"colorgradient\",\n        name: \"ColorGradient\",\n        category: \"web\", // suite\n        description: \"ColorGradient allows selection of a color from an HSV canvas.\",\n        depends: [\"core\", \"popup\", \"textbox\"] // dependencies\n    };\n(function($, undefined) {\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Observable = kendo.Observable,\n        parseColor = kendo.parseColor,\n        extend = $.extend,\n        Color = kendo.Color,\n        KEYS = kendo.keys,\n        BACKGROUNDCOLOR = \"background-color\",\n        WHITE = \"#ffffff\",\n        BLACK = \"#000000\",\n        NS = \".kendoColorTools\",\n        KEYDOWN_NS = \"keydown\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector,\n\n        contrastToolUtils = ui.colorpicker.contrastToolUtils;\n\n    function preventDefault(ev) { ev.preventDefault(); }\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    var ColorInput = Observable.extend({\n        init: function(element, options) {\n            var that = this;\n\n            that.element = element;\n            that.options = options;\n\n            that._viewModel = kendo.observable({\n                switchMode: that.switchMode.bind(that),\n                keydown: that.keydown.bind(that),\n                mode: function (mode) {\n                    return mode === this.get(\"format\");\n                },\n                format: options.format,\n                formats: options.formats,\n                rgb: null,\n                hex: function () {\n                    return this.get(\"rgb\") !== null && this.get(\"rgb\").toCss({alpha: options.opacity});\n                }\n            });\n\n            that._changeHandler = that.change.bind(that);\n\n            that._viewModel.bind(\"change\", that._changeHandler);\n\n            that._render();\n\n            that.element.on(KEYDOWN_NS, that.keydown.bind(that));\n\n            Observable.fn.init.call(that);\n        },\n        _template: kendo.template(\n            '# if (options.formats && options.formats.length > 1) { #' +\n            '<div class=\"k-vstack\">' +\n                '<button class=\"k-colorgradient-toggle-mode\" data-#:ns#role=\"button\" data-#:ns#icon=\"arrows-kpi\" data data-#:ns#bind=\"click: switchMode\" data-#:ns#fill-mode=\"flat\" data-#:ns#size=\"#: options.size #\" title=\"#: options.messages.toggleFormat #\">' +\n               '</button>' +\n            '</div>' +\n            '# } #' +\n\n\n            // HEX input\n            '# if (options.formats && options.formats.indexOf(\"hex\") >= 0) { #' +\n            '<div class=\"k-vstack k-flex-1\" data-#:ns#bind=\"visible: mode(\\'hex\\')\">' +\n                '<input type=\"text\" data-#:ns#bind=\"value: hex\" data-#:ns#role=\"textbox\" data-#:ns#size=\"#: options.size #\" tabindex=\"#:options.tabindex#\"  aria-label=\"#: options.messages.hex #\"/>' +\n                '<label class=\"k-colorgradient-input-label\">HEX</label>' +\n            '</div>' +\n            '# } #' +\n\n            // RGBA input\n            '# if (options.formats && options.formats.indexOf(\"rgb\") >= 0) { #' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.r\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#max=\"255\" data-#:ns#min=\"0\" data-#:ns#decimals=\"0\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n0\"  aria-label=\"#: options.messages.red #\" />' +\n                '<label class=\"k-colorgradient-input-label\">R</label>' +\n            '</div>' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.g\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#max=\"255\" data-#:ns#min=\"0\" data-#:ns#decimals=\"0\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n0\"  aria-label=\"#: options.messages.green #\" />' +\n                '<label class=\"k-colorgradient-input-label\">G</label>' +\n            '</div>' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.b\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#max=\"255\" data-#:ns#min=\"0\" data-#:ns#decimals=\"0\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n0\"  aria-label=\"#: options.messages.blue #\"/>' +\n                '<label class=\"k-colorgradient-input-label\">B</label>' +\n            '</div>' +\n            '#if(options.opacity){#' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.a\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#step=\"0.1\" data-#:ns#max=\"1\" data-#:ns#min=\"0\" data-#:ns#decimals=\"1\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n1\"  aria-label=\"#: options.messages.alpha #\" />' +\n                '<label class=\"k-colorgradient-input-label\">A</label>' +\n            '</div>' +\n            '# } #' +\n            '# } #'),\n        destroy: function(){\n            var that = this;\n\n            that._viewModel.unbind(\"change\", that._changeHandler);\n            kendo.unbind(that.element);\n            kendo.destroy(that.element);\n            that.element.off(KEYDOWN_NS);\n            delete that._viewModel;\n            delete that._changeHandler;\n        },\n        change: function (ev) {\n            var that = this;\n\n            if (ev.field.indexOf(\"rgb\") >= 0) {\n                that._color = that._tryParseColor(that._viewModel.rgb.toCssRgba());\n                that._viewModel.set(\"hex\", that._color.toCss({ alpha: that.options.opacity }));\n            } else if (ev.field === \"hex\") {\n                that._color = that._tryParseColor(ev.sender[ev.field]);\n                that._viewModel.set(\"rgb\", that._color);\n            }\n\n            if (!that._preventChangeEvent) {\n                that.trigger(\"change\", {value: that._color});\n            }\n        },\n        keydown: function (ev) {\n            var that = this,\n                textbox = $(ev.target).data(\"kendoTextBox\");\n\n            if (ev.keyCode === KEYS.ENTER && $(ev.target).is(\"input\")) {\n                if(textbox && textbox._change) {\n                    textbox._change();\n                }\n\n                that.trigger(\"change\", {value: that._color});\n                that.trigger(\"select\", {value: that._color});\n            }\n        },\n        reset: function () {\n            var that = this;\n\n            that._preventChangeEvent = true;\n            that._viewModel.set(\"rgb\", parseColor(BLACK));\n            delete that._preventChangeEvent;\n        },\n        switchMode: function() {\n            var that = this,\n                model = that._viewModel,\n                currentFormat = model.format,\n                index = model.formats.indexOf(currentFormat) + 1;\n\n            index = index >= model.formats.length ? 0 : index;\n\n            that._preventChangeEvent = true;\n            that._viewModel.set(\"format\", model.formats[index]);\n            delete that._preventChangeEvent;\n        },\n        value: function (color) {\n            var that = this;\n\n            that._color = (color && color.toBytes()) || parseColor(BLACK);\n            that._preventChangeEvent = true;\n            that._viewModel.set(\"rgb\", that._color);\n            delete that._preventChangeEvent;\n        },\n        _render: function() {\n            var that = this;\n\n            that.element\n                .append(that._template({ ns: kendo.ns, guid: kendo.guid(), options: that.options }))\n                .parent();\n\n            kendo.bind(that.element, that._viewModel);\n            that.element.attr(\"data-\" + kendo.ns + \"stop\", \"stop\");\n        },\n        _tryParseColor: function (color) {\n            var that = this;\n\n            try {\n                color = parseColor(color) || that._color;\n            } catch (error) {\n                color = that._color;\n            }\n\n            return color;\n        }\n    });\n\n    var ColorGradient = ColorSelector.extend({\n        init: function (element, options) {\n            var that = this,\n                value;\n\n            ColorSelector.fn.init.call(that, element, options);\n\n            options = that.options = kendo.deepExtend({}, that.options, options);\n\n            if(options.messages.previewInput) {\n                options.messages.hex = options.messages.previewInput;\n            }\n\n            options.messages = options.messages ? $.extend(that.options.messages, options.messages) : that.options.messages;\n            element = that.element;\n\n            that._wrapper();\n            that._sliders();\n            that._hsvArea();\n\n            value = that._value;\n\n            that._gradientInputs();\n            that._updateUI(value);\n            that._navigation();\n        },\n        options: {\n            name : \"ColorGradient\",\n            opacity : false,\n            hsvDragARIATemplate: 'Color well with two-dimensional slider for selecting saturation and value. Selected color is #=data || \"none\"#',\n            input : true,\n            format: \"hex\",\n            formats: [\"rgb\", \"hex\"],\n            contrastTool: false,\n            size: \"medium\",\n            messages: {\n                contrastRatio: \"Contrast ratio:\",\n                fail: \"Fail\",\n                pass: \"Pass\",\n                hex: \"HEX\",\n                toggleFormat: \"Toggle format\",\n                red: \"Red channel\",\n                green: \"Green channel\",\n                blue: \"Blue channel\",\n                alpha: \"Alpha channel\"\n            },\n            _otOfPicker: true\n        },\n        _template: kendo.template(\n            '<div class=\"k-colorgradient-canvas k-hstack\">' +\n                '<div class=\"k-hsv-rectangle\"><div class=\"k-hsv-gradient\"></div><div role=\"slider\" aria-orientation=\"undefined\" class=\"k-hsv-draghandle k-draghandle\"></div></div>' +\n\n                '<div class=\"k-hsv-controls k-hstack\">' +\n                    '<input class=\"k-hue-slider k-colorgradient-slider\" />' +\n                    '# if (opacity) { #' +\n                        '<input class=\"k-alpha-slider k-colorgradient-slider\" />' +\n                    '# } #' +\n                '</div>' +\n            '</div>' +\n\n            '# if (input) { #' +\n            '<div class=\"k-colorgradient-inputs k-hstack\">' +\n            '</div>' +\n            '# } #' +\n\n            '# if (contrastTool) { #' +\n                '<div class=\"k-colorgradient-color-contrast k-vbox\">' +\n                '</div>' +\n            '# } #'\n        ),\n        focus: function() {\n            this._hsvHandle.focus();\n        },\n        setBackgroundColor: function(color) {\n            var that = this;\n\n            if (that.options.contrastTool) {\n                that.options.contrastTool = $.isPlainObject(that.options.contrastTool) ? extend({}, that.options.contrastTool, {\n                    backgroundColor: color\n                }) : {\n                    backgroundColor: color\n                };\n\n                that._updateColorContrast(that.color() || parseColor(WHITE));\n            }\n        },\n        _getHSV: function(h, s, v, a) {\n            var that = this,\n                rect = that._hsvRect,\n                width = rect.width(),\n                height = rect.height(),\n                handlePosition = this._hsvHandle.position();\n\n            if(!width || !height) {\n                return that.color() ? that.color().toHSV() : parseColor(BLACK);\n            }\n\n            if (h == null) {\n                h = that._hueSlider.value();\n            }\n            if (s == null) {\n                s = handlePosition.left / width;\n            }\n            if (v == null) {\n                v = 1 - handlePosition.top / height;\n            }\n            if (a == null) {\n                a = that._opacitySlider ? that._opacitySlider.value() / 100 : 1;\n            }\n            return Color.fromHSV(h, s, v, a);\n        },\n        _gradientInputs: function() {\n            var that = this,\n                options = that.options;\n\n            if(that._colorgradientInputs.length) {\n                that._colorInput = new ColorInput(that._colorgradientInputs, extend({}, options, {\n                    tabindex: 0\n                }));\n\n                that._colorInput.bind(\"change\", function(ev){\n                    that._updateUI(ev.value, true);\n                });\n\n                that._colorInput.bind(\"select\", function(ev){\n                    var color = parseColor(ev.value);\n                    that._select(color);\n                    that.trigger(\"forceSelect\", { value: that.value() });\n                });\n            }\n        },\n        _hsvArea: function() {\n            var that = this,\n                wrapper = that.wrapper,\n                hsvRect = wrapper.find(\".k-hsv-rectangle\"),\n                hsvHandle = hsvRect.find(\".k-draghandle\").attr(\"tabIndex\", 0).on(KEYDOWN_NS, bind(that._hsvKeydown, that)),\n                value = this.value();\n\n            if (value && value.indexOf(\"rgba\") > -1) {\n                value = value.replace(\"rgba\", \"RGBA\");\n            };\n\n            if (!this._hsvDragAriaTemplate) {\n                this._hsvDragAriaTemplate = kendo.template(this.options.hsvDragARIATemplate);\n            }\n\n            hsvHandle.attr(\"aria-label\", this._hsvDragAriaTemplate(value || ''));\n\n            function update(x, y) {\n                var offset = this.offset,\n                    dx = x - offset.left, dy = y - offset.top,\n                    rw = this.width, rh = this.height,\n                    resultX, resultY;\n\n                dx = dx < 0 ? 0 : dx > rw ? rw : dx;\n                dy = dy < 0 ? 0 : dy > rh ? rh : dy;\n                resultX = dx / rw;\n                resultY = 1 - dy / rh;\n\n                that._svChange(resultX, resultY);\n            }\n\n            that._hsvEvents = new kendo.UserEvents(hsvRect, {\n                global: true,\n                press: function(e) {\n                    this.offset = kendo.getOffset(hsvRect);\n                    this.width = hsvRect.width();\n                    this.height = hsvRect.height();\n                    hsvHandle.focus();\n                    update.call(this, e.x.location, e.y.location);\n                },\n                start: function() {\n                    hsvRect.addClass(\"k-dragging\");\n                    hsvHandle.focus();\n                },\n                move: function(e) {\n                    e.preventDefault();\n                    update.call(this, e.x.location, e.y.location);\n                },\n                end: function() {\n                    hsvRect.removeClass(\"k-dragging\");\n                }\n            });\n\n            that._hsvRect = hsvRect;\n            that._hsvHandle = hsvHandle;\n        },\n        _hsvKeydown: function(ev) {\n            var that = this;\n            function move(prop, d) {\n                var c = that._getHSV();\n                c[prop] += d * (ev.shiftKey ? 0.01 : 0.05);\n                if (c[prop] < 0) { c[prop] = 0; }\n                if (c[prop] > 1) { c[prop] = 1; }\n                that._updateUI(c);\n                preventDefault(ev);\n            }\n            function hue(d) {\n                var c = that._getHSV();\n                c.h += d * (ev.shiftKey ? 1 : 5);\n                if (c.h < 0) { c.h = 0; }\n                if (c.h > 359) { c.h = 359; }\n                that._updateUI(c);\n                preventDefault(ev);\n            }\n            switch (ev.keyCode) {\n            case KEYS.LEFT:\n                if (ev.ctrlKey) {\n                    hue(-1);\n                } else {\n                    move(\"s\", -1);\n                }\n                break;\n            case KEYS.RIGHT:\n                if (ev.ctrlKey) {\n                    hue(1);\n                } else {\n                    move(\"s\", 1);\n                }\n                break;\n            case KEYS.UP:\n                move(ev.ctrlKey && that._opacitySlider ? \"a\" : \"v\", 1);\n                break;\n            case KEYS.DOWN:\n                move(ev.ctrlKey && that._opacitySlider ? \"a\" : \"v\", -1);\n                break;\n            case KEYS.ENTER:\n                that._select(that._getHSV());\n                break;\n            case KEYS.F2:\n                that._colorInput.element.find(\"input\").trigger(\"focus\").select();\n                break;\n            case KEYS.ESC:\n                that._cancel();\n                break;\n            }\n        },\n        _onEnable: function(enable) {\n            var wrapper = this.wrapper;\n\n            this._hueSlider.enable(enable);\n\n            if (this._opacitySlider) {\n                this._opacitySlider.enable(enable);\n            }\n\n            wrapper.find(\"input\").attr(\"disabled\", !enable);\n\n            if (this.options._standalone) {\n                if (enable) {\n                    wrapper.removeAttr(\"aria-disabled\");\n                } else {\n                    wrapper.attr(\"aria-disabled\", true);\n                }\n            }\n        },\n        _reset: function () {\n            var that = this;\n\n            if (that._colorInput) {\n                that._colorInput.reset();\n            }\n\n            that._resetHsv();\n            that._resetColorContrast();\n        },\n        _resetColorContrast: function () {\n            var that = this,\n                contrastOptions = that.options.contrastTool;\n\n            if(that._contrastTool.length) {\n                that._updateColorContrast(contrastOptions.backgroundColor ? parseColor(contrastOptions.backgroundColor) : parseColor(WHITE));\n            }\n        },\n        _resetHsv: function () {\n            var that = this,\n                color = parseColor(BLACK);\n\n            that._updateHsv(color);\n        },\n        _sliders: function() {\n            var that = this,\n                wrapper = that.wrapper,\n                hueSlider = wrapper.find(\".k-hue-slider\"),\n                opacitySlider = wrapper.find(\".k-alpha-slider\");\n\n            function hueChange(e) {\n                that._updateUI(that._getHSV(e.value, null, null, null));\n            }\n\n            hueSlider.attr(\"aria-label\", \"hue\");\n            that._hueSlider = hueSlider.kendoSlider({\n                min: 0,\n                max: 360,\n                tickPlacement: \"none\",\n                showButtons: false,\n                orientation: \"vertical\",\n                slide: hueChange,\n                change: hueChange\n            }).data(\"kendoSlider\");\n\n            function opacityChange(e) {\n                that._updateUI(that._getHSV(null, null, null, e.value / 100));\n            }\n\n            opacitySlider.attr(\"aria-label\", \"opacity\");\n            that._opacitySlider = opacitySlider.kendoSlider({\n                min: 0,\n                max: 100,\n                tickPlacement: \"none\",\n                showButtons: false,\n                orientation: \"vertical\",\n                slide: opacityChange,\n                change: opacityChange\n            }).data(\"kendoSlider\");\n        },\n        _svChange: function(s, v) {\n            var color = this._getHSV(null, s, v, null);\n            this._updateUI(color);\n        },\n        _updateColorContrast: function (color) {\n            var that = this,\n                contrastOptions = that.options.contrastTool,\n                backgroundColor = contrastOptions.backgroundColor ? parseColor(contrastOptions.backgroundColor) : parseColor(WHITE),\n                contrastRatio = contrastToolUtils.getContrastFromTwoRGBAs(parseColor(color.toCssRgba()), backgroundColor),\n                contrastRatioTemplate = kendo.template('<div class=\"k-contrast-ratio\">' +\n                                            '<span class=\"k-contrast-ratio-text\">#:messages.contrastRatio# #:kendo.toString(ratio, \"n2\")#</span>' +\n                                            '<span class=\"k-contrast-validation k-text-success\">' +\n                                                '#if (ratio > 4.5) {#' +\n                                                    '<span class=\"k-icon k-i-check\"></span>' +\n                                                '#}#' +\n                                                '#if (ratio > 7) {#' +\n                                                    '<span class=\"k-icon k-i-check\"></span>' +\n                                                '#}#' +\n                                            '</span></div>'),\n                labelTemplate = kendo.template('<div>' +\n                                            '<span>#:level#: #:limit# </span>' +\n                                            '#if (ratio > limit) {#' +\n                                            '<span class=\"k-contrast-validation k-text-success\">#:messages.pass# <span class=\"k-icon k-i-check\"></span></span>' +\n                                            '#} else {#' +\n                                            '<span class=\"k-contrast-validation k-text-error\">#:messages.fail# <span class=\"k-icon k-i-close\"></span></span>' +\n                                            '#}#' +\n                                            '</div>'),\n                output = \"\";\n\n            output += contrastRatioTemplate({\n                messages: that.options.messages,\n                ratio: contrastRatio,\n            });\n\n            output += labelTemplate({\n                messages: that.options.messages,\n                ratio: contrastRatio,\n                limit: 4.5,\n                level: \"AA\"\n            });\n\n            output += labelTemplate({\n                messages: that.options.messages,\n                ratio: contrastRatio,\n                limit: 7,\n                level: \"AAA\"\n            });\n\n            that._contrastTool.find(\".k-contrast-ratio, div\").remove();\n            that._contrastTool.append(output);\n\n            that._updateContrastSvg(backgroundColor);\n        },\n        _updateContrastSvg: function (backgroundColor) {\n            var that = this,\n                hsvRect = that._hsvRect,\n                svgClassName = \"k-color-contrast-svg\",\n                metrics = { width: hsvRect.width(), height: hsvRect.height() },\n                newSvg;\n\n            if(!metrics.width || !metrics.height) {\n                return;\n            }\n\n            newSvg = $(contrastToolUtils.renderSvgCurveLine(metrics, that._getHSV(), backgroundColor)).addClass(svgClassName);\n\n            hsvRect.find(\".\" + svgClassName).remove();\n            hsvRect.append(newSvg);\n        },\n        _updateHsv: function (color) {\n            var that = this,\n                rect = that._hsvRect;\n\n            color = color.toHSV();\n\n            that._hsvHandle.css({\n                // saturation is 0 on the left side, full (1) on the right\n                left: color.s * rect.width() + \"px\",\n                // value is 0 on the bottom, full on the top.\n                top: (1 - color.v) * rect.height() + \"px\"\n            });\n\n            that._hueElements.css(BACKGROUNDCOLOR, Color.fromHSV(color.h, 1, 1, 1).toCss());\n            that._hueSlider.value(color.h);\n\n            if (that._opacitySlider) {\n                that._opacitySlider.wrapper.find(\".k-slider-track\").css(\"background\", \"linear-gradient(to top, transparent, \" + Color.fromHSV(color.h, 1, 1, 1).toCss());\n                that._opacitySlider.value(100 * color.a);\n            }\n\n            that._updateHsvAria(color.s, color.v);\n        },\n        _updateHsvAria: function(x,y) {\n            var value = this.value();\n\n            if (value && value.indexOf(\"rgba\") > -1) {\n                value = value.replace(\"rgba\", \"RGBA\");\n            }\n\n            this._hsvHandle.attr({\n                \"aria-label\": this._hsvDragAriaTemplate(value || ''),\n                \"aria-valuenow\": Math.round(x * 100),\n                \"aria-valuetext\": \"saturation: \" + Math.round(x * 100) + \"%, value: \" + Math.round(y * 100) + \"%\"\n            });\n        },\n        _updateUI: function(color, dontChangeInput) {\n            var that = this;\n\n            if (!color) {\n                that._reset();\n                return;\n            }\n\n            if (!dontChangeInput && that._colorInput) {\n                that._colorInput.value(color);\n            }\n\n            that._triggerSelect(color);\n            that._updateHsv(color);\n\n            if(that._contrastTool.length) {\n                that._updateColorContrast(color);\n            }\n        },\n        _wrapper: function() {\n            var options = this.options,\n                wrapper;\n\n            if (this.element.is(\"input\")) {\n                wrapper = this.element.addClass(\"k-hidden\").wrap(\"<div>\").parent();\n            } else {\n                wrapper = this.element;\n            }\n\n            wrapper.addClass(\"k-colorgradient\")\n                .attr({\n                    \"role\": \"textbox\",\n                    \"aria-keyshortcuts\": \"Enter\"\n                })\n                .append(this._template(options));\n\n            this._hueElements = $(\".k-hsv-rectangle, .k-alpha-slider .k-slider-track\", wrapper);\n            this._colorgradientInputs = $(\".k-colorgradient-inputs\", wrapper);\n            this._contrastTool = $(\".k-colorgradient-color-contrast\", wrapper);\n\n            this.wrapper = wrapper;\n        },\n        destroy: function (){\n            this._hsvEvents.destroy();\n\n            this._hueSlider.destroy();\n            if (this._opacitySlider) {\n                this._opacitySlider.destroy();\n            }\n\n            if(this._colorInput) {\n                this._colorInput.destroy();\n            }\n\n            this._hueSlider = this._opacitySlider = this._hsvRect = this._hsvHandle =\n                this._hueElements = this._selectedColor = this._colorAsText =\n                this._contrastTool = null;\n\n            ColorSelector.fn.destroy.call(this);\n        }\n    });\n\n    ui.plugin(ColorGradient);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define){\n    define('colorpicker/colorpalette',[\n        \"kendo.core\"\n    ], f);\n})(function(){\n\n(function($, undefined){\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        parseColor = kendo.parseColor,\n        KEYS = kendo.keys,\n        DOT = \".\",\n        BACKGROUNDCOLOR = \"background-color\",\n        ITEMSELECTEDCLASS = \"k-selected\",\n        ITEMSFOCUSEDCLASS = \"k-focus\",\n        TILE_CLASS = \"k-colorpalette-tile\",\n        SIMPLEPALETTE = \"000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7\",\n        WEBPALETTE = \"FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000\",\n        NS = \".kendoColorTools\",\n        FOCUS_NS = \"focus\" + NS,\n        CLICK_NS = \"click\" + NS,\n        KEYDOWN_NS = \"keydown\" + NS,\n        BLUR_NS = \"blur\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector;\n\n    function preventDefault(ev) { ev.preventDefault(); }\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    function relative(array, element, delta) {\n        array = Array.prototype.slice.call(array);\n        var n = array.length;\n        var pos = array.indexOf(element);\n        if (pos < 0) {\n            return delta < 0 ? array[n - 1] : array[0];\n        }\n        pos += delta;\n        if (pos < 0) {\n            pos += n;\n        } else {\n            pos %= n;\n        }\n        return array[pos];\n    }\n\n    var ColorPalette = ColorSelector.extend({\n        init: function(element, options) {\n            var that = this;\n\n            ColorSelector.fn.init.call(that, element, options);\n\n            that._tabIndex = this.element.attr(\"tabindex\") || 0;\n\n            that._wrapper();\n\n            options = that.options;\n\n            that._selectedID = (options.ariaId || kendo.guid()) + \"_selected\";\n            that._ariaTemplate = kendo.template(that.options.ARIATemplate);\n\n            if (that._value) {\n                that._updateUI(that._value);\n                that.wrapper.find(DOT + ITEMSFOCUSEDCLASS).removeClass(ITEMSFOCUSEDCLASS);\n            }\n\n            that.wrapper.attr(\"aria-label\", that._ariaTemplate(that.value() || \"\"));\n\n            that._attachEvents();\n        },\n        focus: function(){\n            if (this.wrapper && !this.wrapper.is(\"[unselectable='on']\")) {\n                this.wrapper.trigger(\"focus\");\n            }\n        },\n        options: {\n            name: \"ColorPalette\",\n            columns: 10,\n            tileSize: null,\n            palette: \"basic\"\n        },\n        _attachEvents: function() {\n            var that = this;\n\n            that.wrapper.on(CLICK_NS, DOT + TILE_CLASS, function(ev){\n                that._select(ev.currentTarget);\n            })\n            .on(KEYDOWN_NS, bind(that._keydown, that))\n            .on(BLUR_NS, function(){\n                that.wrapper.find(DOT + TILE_CLASS).removeClass(ITEMSFOCUSEDCLASS);\n            })\n            .on(FOCUS_NS, bind(that._focus, that));\n        },\n        _colors: function() {\n            var options = this.options,\n                colors = options.palette || \"basic\";\n\n            if (colors == \"websafe\") {\n                colors = WEBPALETTE;\n                options.columns = 18;\n            } else if (colors == \"basic\") {\n                colors = SIMPLEPALETTE;\n            }\n\n            if (typeof colors == \"string\") {\n                colors = colors.split(\",\");\n            }\n\n            if (Array.isArray(colors)) {\n                colors = $.map(colors, function(x) { return parseColor(x); });\n            }\n\n            return colors;\n        },\n        _current: function(item) {\n            this.wrapper.find(DOT + TILE_CLASS)\n                .removeClass(ITEMSFOCUSEDCLASS)\n                .removeAttr(\"id\");\n\n            $(item)\n                .addClass(ITEMSFOCUSEDCLASS)\n                .attr(\"id\", this._selectedID);\n\n            this.wrapper\n                .removeAttr(\"aria-activedescendant\")\n                .attr(\"aria-activedescendant\", this._selectedID);\n        },\n        _focus: function() {\n            var wrapper = this.wrapper,\n                selected = wrapper.find(\"#\" + this._selectedID);\n\n            if (selected.length === 0) {\n                this._current(wrapper.find(DOT + TILE_CLASS).first());\n            }\n        },\n        _keydown: function(e) {\n            var newCurrent,\n                wrapper = this.wrapper,\n                items = wrapper.find(DOT + TILE_CLASS),\n                current = items.filter(DOT + ITEMSFOCUSEDCLASS).get(0) || items.filter(DOT + ITEMSELECTEDCLASS).get(0),\n                keyCode = e.keyCode,\n                index;\n\n            if (current) {\n                index = Array.prototype.indexOf.call(current.parentNode.children, current);\n            }\n\n            if (keyCode == KEYS.LEFT) {\n                newCurrent = current ? current.previousSibling : items[items.length - 1];\n            } else if (keyCode == KEYS.RIGHT) {\n                newCurrent = current ? current.nextSibling : items[0];\n            } else if (keyCode == KEYS.DOWN) {\n                newCurrent = current ? (current.parentNode.nextSibling ? current.parentNode.nextSibling.children[index] : null) : items[0];\n            } else if (keyCode == KEYS.UP) {\n                newCurrent = current ? (current.parentNode.previousSibling ? current.parentNode.previousSibling.children[index] : null) : items.get[items.length - 1];\n            } else if (keyCode == KEYS.ENTER) {\n                preventDefault(e);\n                if (current) {\n                    this._select(current);\n                    this.trigger(\"forceSelect\", { value: this.value() });\n                    return;\n                }\n            } else if (keyCode == KEYS.ESC) {\n                this._cancel();\n            }\n\n            if (newCurrent && newCurrent.nodeType !== 1) {\n                newCurrent = null;\n            }\n\n            if (newCurrent) {\n                preventDefault(e);\n\n                this._current(newCurrent);\n            }\n        },\n        _onEnable: function(enable) {\n            if (this.options._standalone) {\n                if (enable) {\n                    this.wrapper.attr(\"tabindex\", this._tabIndex);\n                    this.wrapper.removeAttr(\"aria-disabled\");\n                } else {\n                    this.wrapper.removeAttr(\"tabindex\");\n                    this.wrapper.attr(\"aria-disabled\", true);\n                }\n            }\n        },\n        _select: function(item) {\n            var that = this,\n                items = that.wrapper.find(DOT + TILE_CLASS);\n\n            item = $(item);\n\n            ColorSelector.fn._select.call(that, item.css(BACKGROUNDCOLOR));\n\n            items.removeClass(ITEMSELECTEDCLASS).removeAttr(\"aria-selected\");\n            item.addClass(ITEMSELECTEDCLASS).attr(\"aria-selected\", true);\n        },\n        _template: kendo.template(\n            '<div class=\"k-colorpalette-table-wrap\">' +\n            '<table class=\"k-colorpalette-table k-palette\" role=\"presentation\"><tr role=\"row\">' +\n              '# for (var i = 0; i < colors.length; ++i) { #' +\n                '# var selected = colors[i].equals(value); #' +\n                '# if (i && i % columns == 0) { # </tr><tr role=\"row\"> # } #' +\n                '<td role=\"gridcell\" unselectable=\"on\" style=\"background-color:#= colors[i].toCss() #\"' +\n                    '#= selected ? \" aria-selected=true\" : \"\" # ' +\n                    '#=(id && i === 0) ? \"id=\\\\\"\"+id+\"\\\\\" \" : \"\" # ' +\n                    'class=\"k-colorpalette-tile#= selected ? \" ' + ITEMSELECTEDCLASS + '\" : \"\" #\" ' +\n                    'aria-label=\"#= colors[i].toCss() #\"></td>' +\n              '# } #' +\n            '</tr></table></div>'\n        ),\n        _tileSize: function() {\n            var tileSize = this.options.tileSize,\n                width, height;\n\n            if (tileSize) {\n                if (/number|string/.test(typeof tileSize)) {\n                    width = height = parseFloat(tileSize);\n                } else if (typeof tileSize == \"object\") {\n                    width = parseFloat(tileSize.width);\n                    height = parseFloat(tileSize.height);\n                } else {\n                    throw new Error(\"Unsupported value for the 'tileSize' argument\");\n                }\n                this.wrapper.find(DOT + TILE_CLASS).css({ width: width, height: height });\n            }\n        },\n        _updateUI: function(color) {\n            var item = null,\n                items = this.wrapper.find(DOT + TILE_CLASS);\n\n            this.wrapper.find(DOT + TILE_CLASS).each(function(){\n                var c = parseColor($(this).css(BACKGROUNDCOLOR));\n\n                if (c && c.equals(color)) {\n                    item = this;\n\n                    return false;\n                }\n            });\n\n            this._current(item);\n\n            items.removeClass(ITEMSELECTEDCLASS);\n\n            if (item) {\n                $(item).addClass(ITEMSELECTEDCLASS);\n                this.wrapper.attr(\"aria-label\", this._ariaTemplate(this.value() || \"\"));\n            }\n        },\n        _wrapper: function() {\n            var options = this.options,\n                colors = this._colors(),\n                wrapper;\n\n            if (this.element.is(\"input\")) {\n                wrapper = this.element.addClass(\"k-hidden\").wrap(\"<div>\").parent();\n            } else {\n                wrapper = this.element;\n            }\n\n            wrapper.addClass(\"k-colorpalette\")\n                .attr(\"role\", \"grid\")\n                .append($(this._template({\n                    colors: colors,\n                    columns: options.columns,\n                    tileSize: options.tileSize,\n                    value: this._value,\n                    id: options.ariaId\n                })))\n                .attr(\"tabindex\", this._tabIndex);\n\n            this.wrapper = wrapper;\n            this._tileSize();\n        }\n    });\n\n\n    ui.plugin(ColorPalette);\n\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('colorpicker/flatcolorpicker',[\n        \"./colorgradient\",\n        \"./colorpalette\",\n        \"kendo.html.button\"\n    ], f);\n})(function(){\n\n(function($, undefined){\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        html = kendo.html,\n        Color = kendo.Color,\n        extend = $.extend,\n        BACKGROUNDCOLOR = \"background-color\",\n        MESSAGES = {\n            apply  : \"Apply\",\n            cancel : \"Cancel\",\n            noColor: \"no color\",\n            clearColor: \"Clear color\",\n            previewInput: null,\n            contrastRatio: \"Contrast ratio:\",\n            fail: \"Fail\",\n            pass: \"Pass\",\n            hex: \"HEX\",\n            toggleFormat: \"Toggle format\",\n            red: \"Red\",\n            green: \"Green\",\n            blue: \"Blue\",\n            alpha: \"Alpha\",\n            gradient: \"Gradient view\",\n            palette: \"Palette view\"\n        },\n        NS = \".kendoColorTools\",\n        CLICK_NS = \"click\" + NS,\n        KEYDOWN_NS = \"keydown\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector,\n        KEYS = kendo.keys,\n\n        NO_COLOR = \"k-no-color\",\n        SELECTED = \"k-selected\",\n        PREVIEW_MASK = \".k-color-preview-mask\",\n\n        ARIA_PRESSED = \"aria-pressed\",\n        ARIA_DISABLED = \"aria-disabled\",\n\n        VIEWS = {\n            \"gradient\": ui.ColorGradient,\n            \"palette\": ui.ColorPalette\n        };\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    var FlatColorPicker = ColorSelector.extend({\n        init: function(element, options) {\n            var that = this;\n\n            if (options && options.autoupdate === false) {\n                options._standalone = false;\n            }\n\n            ColorSelector.fn.init.call(that, element, options);\n            options = that.options = kendo.deepExtend({}, that.options, options);\n            element = that.element;\n\n            that._wrapper();\n\n            var value = that.color();\n\n            that._changeView(options.view);\n\n            that._setViewSize();\n\n            if (value) {\n                that._updateUI(value);\n                that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n                that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n            } else {\n                that._selectedColor.addClass(NO_COLOR);\n                that._previousColor.addClass(NO_COLOR);\n            }\n\n            that._attachEvents();\n            that._navigation();\n        },\n        destroy: function() {\n            var that = this;\n\n            ColorSelector.fn.destroy.call(this);\n\n            if (that._view) {\n                that._view.destroy();\n                that._viewsContainer.empty();\n            }\n\n            that.element.off(NS);\n\n            that._selectedColor = that._previousColor = that._viewsContainer = that._view = null;\n        },\n        options: {\n            name: \"FlatColorPicker\",\n            opacity: false,\n            buttons: false,\n            input: true,\n            preview: true,\n            clearButton: false,\n            format: \"hex\",\n            formats: [\"rgb\", \"hex\"],\n            view: \"gradient\",\n            views: [\"gradient\", \"palette\"],\n            palette: null,\n            autoupdate : true,\n            backgroundColor: null,\n            columns: 10,\n            tileSize: 24,\n            messages   : MESSAGES,\n            size: \"medium\", // Fake styling option to accomplish colorpicker's size for textbox and button\n            _otOfPicker: true\n        },\n        setBackgroundColor: function (color) {\n            var that = this;\n\n            if(that._view && that._view.setBackgroundColor) {\n                that._view.setBackgroundColor(color);\n            }\n        },\n        _attachEvents: function() {\n            var that = this;\n\n            that.wrapper\n                .on(KEYDOWN_NS, bind(that._keydown, that))\n                .on(CLICK_NS, \".k-coloreditor-reset\", function () {\n                    that._clearColor = true;\n                    that._updateUI(null);\n                    that._view.value(null);\n                })\n                .on(CLICK_NS, \".k-coloreditor-apply\", function(){\n                    if(that._clearColor) {\n                        that._select(null);\n                    } else {\n                        that._select(that._view.color());\n                    }\n                })\n                .on(CLICK_NS, \".k-coloreditor-cancel\", function(){\n                    delete that._clearColor;\n                    that._updateUI(that.color());\n                    that._cancel();\n                })\n                .on(CLICK_NS, \".k-button[data-view]\", function(ev){\n                    var viewButton =  $(ev.target).closest(\"[data-view]\");\n\n                    if(viewButton.is(\".\" + SELECTED)) {\n                        return;\n                    }\n\n                    that.wrapper.find(\".k-button[data-view]\").removeClass(SELECTED).attr(ARIA_PRESSED, false);\n                    viewButton.addClass(SELECTED).attr(ARIA_PRESSED, true);\n                    that._changeView(viewButton.data(\"view\"));\n                });\n        },\n        _select: function(value) {\n            var that = this;\n\n            ColorSelector.fn._select.call(that, value);\n\n            that._updatePreviousColor(value);\n        },\n        _updatePreviousColor: function (value) {\n            var that = this;\n\n            if (value) {\n                that._previousColor.removeClass(NO_COLOR);\n                that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n            } else {\n                that._previousColor.addClass(NO_COLOR);\n                that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, \"\");\n            }\n        },\n        _changeView: function (mode) {\n            var that = this,\n                options = $.extend({}, that.options),\n                selector =  VIEWS[mode],\n                selectedColor, hsvColor;\n\n            if(that._view && that._view._colorInput) {\n                that.options.format = that._view._colorInput._viewModel.format;\n            }\n\n            that.options.view = mode;\n\n            delete options.name;\n            delete options.change;\n            delete options.select;\n            delete options.cancel;\n            delete options._standalone;\n\n            if (that._view) {\n                selectedColor = that._view.color();\n                that._view.destroy();\n                that._viewsContainer.empty();\n            }\n\n            if (selectedColor) {\n                selectedColor = selectedColor.toHSV();\n                hsvColor = Color.fromHSV(that._cachedHue || 0, selectedColor.s, selectedColor.v, selectedColor.a);\n                that._cachedHue = selectedColor.toHSV().h;\n                selectedColor = selectedColor.equals(hsvColor) ? hsvColor : selectedColor;\n            }\n\n            options._otOfPicker = false;\n\n            if (selector) {\n                that._view = new VIEWS[mode]($(\"<div></div>\").appendTo(that._viewsContainer), options);\n                that._view.value(selectedColor);\n\n                that._view.bind(\"change\", function (ev) {\n                    delete that._clearColor;\n                    that._updateUI(ev.sender.color(), true);\n                });\n\n                that._view.bind(\"forceSelect\", function (ev) {\n                    delete that._clearColor;\n                    that._select(ev.sender.color());\n                });\n            }\n        },\n        _onEnable: function(enable) {\n            var that = this;\n\n            if (that._view) {\n                that._view._onEnable(enable);\n            }\n\n            if (that.options._standalone) {\n                if (enable) {\n                    that.wrapper.removeAttr(ARIA_DISABLED);\n                } else {\n                    that.wrapper.attr(ARIA_DISABLED, true);\n                }\n            }\n        },\n        focus: function() {\n            var that = this;\n\n            if (that._view) {\n                that._view.focus();\n            }\n        },\n        _updateUI: function(color, dontChangeView) {\n            var that = this;\n\n            if (color && color.toDisplay) {\n                that._selectedColor.removeClass(NO_COLOR);\n                that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, color.toDisplay());\n            } else {\n                that._selectedColor.addClass(NO_COLOR);\n                that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, \"\");\n            }\n\n            that._triggerSelect(color);\n\n            if (that.options.autoupdate) {\n                that._updatePreviousColor(color);\n            }\n\n            if(!dontChangeView) {\n                that._view.value(color);\n            }\n        },\n        _setViewSize: function() {\n            var that = this,\n                wrapper = that.wrapper[0],\n                previewWidth = parseInt((that.options.tileSize.width || that.options.tileSize), 10),\n                previewHeight = parseInt((that.options.tileSize.width || that.options.tileSize), 10),\n                previewColumns = that.options.columns;\n\n            wrapper.style.setProperty(\"--kendo-color-preview-columns\", previewColumns);\n            wrapper.style.setProperty(\"--kendo-color-preview-width\", previewWidth + \"px\");\n            wrapper.style.setProperty(\"--kendo-color-preview-height\", previewHeight + \"px\");\n        },\n        _keydown: function(e) {\n            if (e.keyCode == KEYS.ESC) {\n                this._cancel();\n            }\n        },\n        _template: function () {\n            var that = this,\n                options = that.options,\n                buttonOptions = extend({}, options, {\n                    fillMode: \"flat\",\n                    themeColor: \"base\",\n                    rounded: \"medium\"\n                });\n\n            return kendo.template(\n                    '<div class=\"k-coloreditor-header k-hstack\">' +\n                        '# if (views && views.length > 1) { #' +\n                        '<div class=\"k-coloreditor-header-actions k-hstack\">' +\n                            '<div role=\"group\" class=\"k-button-group k-button-group-flat\">' +\n                                html.renderButton('<button aria-pressed=\"false\" data-view=\"gradient\" title=\"#:messages.gradient#\"></button>', extend({ icon: \"color-canvas\" }, buttonOptions)) +\n                                html.renderButton('<button aria-pressed=\"false\" data-view=\"palette\" title=\"#:messages.palette#\"></button>', extend({ icon: \"palette\" }, buttonOptions)) +\n                            '</div>' +\n                        '</div>' +\n                        '# } #' +\n                        '<div class=\"k-spacer\"></div>' +\n                        '<div class=\"k-coloreditor-header-actions k-hstack\">' +\n                            '# if (clearButton) { #' +\n                            html.renderButton('<button class=\"k-coloreditor-reset\" title=\"#:messages.clearColor#\"></button>', extend({ icon: \"reset-color\" }, buttonOptions)) +\n                            '# } #' +\n                            '# if (preview) { #' +\n                            '<div class=\"k-coloreditor-preview k-vstack\">' +\n                                '<span class=\"k-coloreditor-preview-color k-color-preview\">' +\n                                    '<span class=\"k-color-preview-mask\"></span>' +\n                                '</span>' +\n                                '<span class=\"k-coloreditor-current-color k-color-preview\">' +\n                                    '<span class=\"k-color-preview-mask\"></span>' +\n                                '</span>' +\n                            '</div>' +\n                            '# } #' +\n                        '</div>' +\n                    '</div>' +\n                    '<div class=\"k-coloreditor-views k-vstack\"></div>' +\n                    '# if (buttons) { #' +\n                    '<div class=\"k-coloreditor-footer k-actions k-hstack k-justify-content-end\">' +\n                        html.renderButton('<button class=\"k-coloreditor-cancel\" title=\"#:messages.cancel#\">#: messages.cancel #</button>', extend({}, buttonOptions, { fillMode: \"solid\" })) +\n                        html.renderButton('<button class=\"k-coloreditor-apply\" title=\"#:messages.apply#\">#: messages.apply #</button>', extend({}, buttonOptions, { fillMode: \"solid\", themeColor: \"primary\" })) +\n                    '</div>' +\n                    '# } #'\n                )(options);\n        },\n        _wrapper: function() {\n            var options = this.options,\n                wrapper;\n\n            if (this.element.is(\"input\")) {\n                wrapper = this.element.addClass(\"k-hidden\").wrap(\"<div>\").parent();\n            } else {\n                wrapper = this.element;\n            }\n\n            wrapper.addClass(\"k-flatcolorpicker k-coloreditor\")\n                .attr({\n                    \"role\": \"textbox\",\n                    \"aria-keyshortcuts\": \"Enter\"\n                })\n                .append(this._template());\n\n            this._selectedColor = $(\".k-coloreditor-preview-color\", wrapper);\n            this._previousColor = $(\".k-coloreditor-current-color\", wrapper);\n            this._viewsContainer = $(\".k-coloreditor-views\", wrapper);\n\n            wrapper.find(\".k-button[data-view=\" + options.view + \"]\").addClass(SELECTED).attr(ARIA_PRESSED, true);\n\n            this.wrapper = wrapper;\n        }\n    });\n\n    ui.plugin(FlatColorPicker);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define) {\n    define('kendo.colorpicker',[\n        \"kendo.core\",\n        \"kendo.color\",\n        \"kendo.popup\",\n        \"kendo.slider\",\n        \"kendo.userevents\",\n        \"kendo.button\",\n        \"kendo.binder\",\n        \"kendo.textbox\",\n        \"kendo.numerictextbox\",\n        \"kendo.html.button\",\n\n        \"./colorpicker/colorselector\",\n        \"./colorpicker/flatcolorpicker\"\n    ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"colorpicker\",\n    name: \"Color tools\",\n    category: \"web\",\n    description: \"Color selection widgets\",\n    depends: [ \"core\", \"color\", \"popup\", \"slider\", \"userevents\", \"button\", \"binder\", \"textbox\", \"numerictextbox\", \"html.button\" ]\n};\n\n(function($, undefined) {\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        Color = kendo.Color,\n        parseColor = kendo.parseColor,\n        KEYS = kendo.keys,\n        BACKGROUNDCOLOR = \"background-color\",\n        MESSAGES = {\n            apply: \"Apply\",\n            cancel: \"Cancel\",\n            noColor: \"no color\",\n            clearColor: \"Clear color\",\n            previewInput: null,\n            contrastRatio: \"Contrast ratio:\",\n            fail: \"Fail\",\n            pass: \"Pass\",\n            hex: \"HEX\",\n            toggleFormat: \"Toggle format\",\n            red: \"Red\",\n            green: \"Green\",\n            blue: \"Blue\",\n            alpha: \"Alpha\",\n            gradient: \"Gradient view\",\n            palette: \"Palette view\"\n        },\n        NS = \".kendoColorTools\",\n        CLICK_NS = \"click\" + NS,\n        KEYDOWN_NS = \"keydown\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector,\n        FlatColorPicker = ui.FlatColorPicker;\n\n    /* -----[ The ColorPicker widget ]----- */\n\n    var ColorPicker = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            // Legacy support for the cases where only palette is defined\n            if (options && options.palette && !options.view) {\n                options.view = \"palette\";\n            }\n\n            Widget.fn.init.call(that, element, options);\n            options = that.options = kendo.deepExtend({}, that.options, options);\n            element = that.element;\n\n            var value = element.attr(\"value\") || element.val();\n            if (value) {\n                value = parseColor(value, true);\n            } else {\n                value = parseColor(options.value, true);\n            }\n            that._value = options.value = value;\n\n            var _buttonHtml = kendo.html.renderButton('<button class=\"k-input-button\" unselectable=\"on\" aria-label=\"select\" tabindex=\"-1\"></button>', $.extend({}, that.options, {\n                icon: \"arrow-s\"\n            }));\n\n            var content = that._inputWrapper = that.wrapper = $(that._template($.extend({}, that.options, {\n                _buttonHtml: _buttonHtml\n            })));\n\n            that._applyCssClasses();\n            element.hide().after(content);\n\n            if (element.is(\"input\")) {\n                element.appendTo(content);\n                that._preventDefaultLabelClick();\n            }\n\n            that._tabIndex = element.attr(\"tabIndex\") || 0;\n\n            that.enable(!element.attr(\"disabled\"));\n\n            var accesskey = element.attr(\"accesskey\");\n            if (accesskey) {\n                element.attr(\"accesskey\", null);\n                content.attr(\"accesskey\", accesskey);\n            }\n\n            that.bind(\"activate\", function(ev) {\n                if (!ev.isDefaultPrevented()) {\n                    that.toggle();\n                }\n            });\n\n            that._updateUI(value);\n        },\n        destroy: function() {\n            this.wrapper.off(NS).find(\"*\").off(NS);\n            if (this._popup) {\n                this._selector.destroy();\n                this._popup.destroy();\n            }\n            this._selector = this._popup = this.wrapper = null;\n            Widget.fn.destroy.call(this);\n        },\n        enable: function(enable) {\n            var that = this,\n                wrapper = that.wrapper,\n                arrow = wrapper.find(\".k-input-button\");\n\n            if (arguments.length === 0) {\n                enable = true;\n            }\n\n            that.element.attr(\"disabled\", !enable);\n            wrapper.attr(\"aria-disabled\", !enable);\n\n            arrow.off(NS).on(\"mousedown\" + NS, preventDefault);\n\n            wrapper.addClass(\"k-disabled\")\n                .removeAttr(\"tabIndex\")\n                .add(\"*\", wrapper).off(NS);\n\n            if (enable) {\n                wrapper.removeClass(\"k-disabled\")\n                    .attr(\"tabIndex\", that._tabIndex)\n                    .on(\"mouseenter\" + NS, function() { wrapper.addClass(\"k-hover\"); })\n                    .on(\"mouseleave\" + NS, function() { wrapper.removeClass(\"k-hover\"); })\n                    .on(\"focus\" + NS, function() { wrapper.addClass(\"k-focus\"); })\n                    .on(\"blur\" + NS, function() { wrapper.removeClass(\"k-focus\"); })\n                    .on(KEYDOWN_NS, bind(that._keydown, that))\n                    .on(CLICK_NS, \".k-input-button\", bind(that.toggle, that))\n                    .on(CLICK_NS, \".k-input-inner\", function() {\n                        that.trigger(\"activate\");\n                    });\n            } else {\n                that.close();\n            }\n        },\n\n        _template: kendo.template(\n            '<span role=\"textbox\" aria-haspopup=\"true\" class=\"k-colorpicker k-picker k-icon-picker\">' +\n                '<span  class=\"k-input-inner\">' +\n                    '<span class=\"k-value-icon k-color-preview #: toolIcon ? \"k-icon-color-preview\" : \"\" #\">' +\n                        '# if (toolIcon) { #' +\n                        '<span class=\"k-color-preview-icon k-icon #= toolIcon #\"></span>' +\n                        '# } #' +\n                        '<span class=\"k-color-preview-mask\"></span>' +\n                    '</span>' +\n                '</span >' +\n                '#= _buttonHtml #' +\n            '</span>'\n        ),\n\n        options: {\n            name: \"ColorPicker\",\n            closeOnSelect: false,\n            contrastTool: false,\n            palette: null,\n            columns: 10,\n            toolIcon: null,\n            value: null,\n            messages: MESSAGES,\n            opacity: false,\n            buttons: true,\n            preview: true,\n            clearButton: false,\n            input: true,\n            format: \"hex\",\n            formats: [\"rgb\", \"hex\"],\n            view: \"gradient\",\n            views: [\"gradient\", \"palette\"],\n            backgroundColor: null,\n            ARIATemplate: 'Current selected color is #=data || \"none\"#',\n            size: \"medium\",\n            rounded: \"medium\",\n            fillMode: \"solid\"\n        },\n\n        events: [ \"activate\", \"change\", \"select\", \"open\", \"close\" ],\n\n        open: function() {\n            if (!this.element.prop(\"disabled\")) {\n                this._getPopup().open();\n            }\n        },\n        close: function() {\n            var selOptions = (this._selector && this._selector.options) || {};\n            selOptions._closing = true;\n            this._getPopup().close();\n\n            delete selOptions._closing;\n        },\n        toggle: function() {\n            if (!this.element.prop(\"disabled\")) {\n                this._getPopup().toggle();\n            }\n        },\n        setBackgroundColor: function(color) {\n            var that = this,\n                handler = function() { that._selector.setBackgroundColor(color); };\n\n            that.options.contrastTool.backgroundColor = color;\n\n            if (that._selector && (that._popup && that._popup.visible())) {\n                that._selector.setBackgroundColor(color);\n            } else if (that._popup) {\n                that._popup.unbind(\"activate\", handler);\n                that._popup.bind(\"activate\", handler);\n            }\n        },\n        _noColorIcon: function() {\n            return this.wrapper.find(\".k-color-preview\");\n        },\n        color: ColorSelector.fn.color,\n        value: ColorSelector.fn.value,\n        _select: ColorSelector.fn._select,\n        _triggerSelect: ColorSelector.fn._triggerSelect,\n        _isInputTypeColor: ColorSelector.fn._isInputTypeColor,\n\n        _preventDefaultLabelClick: function() {\n            // if there exists a <label> associated with this\n            // input field, we must catch clicks on it to prevent\n            // the built-in color picker from showing up.\n            // https://github.com/telerik/kendo-ui-core/issues/292\n            var that = this,\n                element = that.element,\n                label = element.closest(\"label\"),\n                id = element.attr(\"id\");\n\n            if (id) {\n                label = label.add('label[for=\"' + id + '\"]');\n            }\n            label.on(\"click\", function(ev) {\n                that.open();\n                ev.preventDefault();\n            });\n        },\n\n        _updateUI: function(value, dontChangeSelector) {\n            this._updateInput(value);\n            this._triggerSelect(value);\n\n            this.wrapper.find(\".k-color-preview-mask\").css(\n                BACKGROUNDCOLOR,\n                value ? value.toDisplay() : \"\"\n            );\n\n            this._noColorIcon().toggleClass(\"k-no-color\", !value);\n\n            if (this._selector && !dontChangeSelector) {\n                this._selector.value(value);\n            }\n        },\n        _updateInput: function(value) {\n            var formattedValue = \"\";\n\n            if (value) {\n                if (this._isInputTypeColor() || value.a == 1) {\n                    // seems that input type=\"color\" doesn't support opacity\n                    // in colors; the only accepted format is hex #RRGGBB\n                    formattedValue = value.toCss();\n                } else {\n                    formattedValue = value.toCssRgba();\n                }\n\n                this.element.val(formattedValue);\n            }\n\n            if (!this._ariaTemplate) {\n                this._ariaTemplate = kendo.template(this.options.ARIATemplate);\n            }\n\n            this.wrapper.attr(\"aria-label\", this._ariaTemplate(formattedValue));\n        },\n        _keydown: function(ev) {\n            var key = ev.keyCode;\n            if (this._getPopup().visible()) {\n                if (key == KEYS.ESC) {\n                    this._selector._cancel();\n                } else {\n                    this._selector._keydown(ev);\n                }\n                preventDefault(ev);\n            }\n            else if (key == KEYS.ENTER || key == KEYS.DOWN) {\n                this.open();\n                preventDefault(ev);\n            }\n        },\n        _getPopup: function() {\n            var that = this, popup = that._popup;\n\n            if (!popup) {\n                var options = that.options;\n                var selectorType;\n\n                selectorType = FlatColorPicker;\n\n                options.autoupdate = options.buttons !== true;\n                delete options.select;\n                delete options.change;\n                delete options.cancel;\n\n                options._otOfPicker = false;\n\n                var id = kendo.guid();\n\n                var selectorWrapper = $('<div id=\"' + id + '\" class=\"k-colorpicker-popup\"></div>').appendTo(document.body);\n                var selector = that._selector = new selectorType($('<div></div>').appendTo(selectorWrapper), options);\n\n                that.wrapper.attr(\"aria-owns\", id);\n\n                that._popup = popup = selectorWrapper.kendoPopup({\n                    anchor: that.wrapper,\n                    adjustSize: { width: 5, height: 0 }\n                }).data(\"kendoPopup\");\n\n                selector.bind({\n                    select: function(ev) {\n                        that._updateUI(parseColor(ev.value), true);\n                    },\n                    change: function(ev) {\n                        if (that.options.buttons) {\n                            that._select(selector.color());\n                        } else {\n                            that._updateUI(parseColor(ev.value), true);\n                        }\n\n                        if (that.options.buttons || (that._selector.options.view === \"palette\" && that.options.closeOnSelect)) {\n                            that.close();\n                        }\n                    },\n                    cancel: function() {\n                        that.close();\n                    }\n                });\n                popup.bind({\n                    close: function(ev) {\n                        if (that.trigger(\"close\")) {\n                            ev.preventDefault();\n                            return;\n                        }\n                        that.wrapper.removeClass(\"k-focus\");\n\n                        var color = selector.color();\n\n                        if (!that.options.buttons) {\n                            that._select(color);\n                        } else {\n                            that._select(that.color());\n                        }\n\n                        color = that.color();\n\n                        if (color && color.h) {\n                            that._cachedHue = color.h;\n                        }\n\n                        var clickedOutside = event &&\n                            event instanceof MouseEvent &&\n                            $(event.target).parents(\".k-colorpicker-popup\").length === 0;\n\n                        if (!clickedOutside) {\n                            setTimeout(function() {\n                                if (that.wrapper && !that.wrapper.is(\"[unselectable='on']\")) {\n                                    that.wrapper.trigger(\"focus\");\n                                }\n                            }, 0);\n                        }\n                    },\n                    open: function(ev) {\n                        if (that.trigger(\"open\")) {\n                            ev.preventDefault();\n                        } else {\n                            that.wrapper.addClass(\"k-focus\");\n                        }\n                    },\n                    activate: function() {\n                        var hsvColor,\n                            selectedColor = that.color();\n\n                        if (selectedColor) {\n                            selectedColor = selectedColor.toHSV();\n                            hsvColor = Color.fromHSV(that._cachedHue || 0, selectedColor.s, selectedColor.v, selectedColor.a);\n                            selectedColor = selectedColor.equals(hsvColor) ? hsvColor : selectedColor;\n                        }\n\n                        selector.value(selectedColor);\n                        selector.focus();\n                        that.wrapper.addClass(\"k-focus\");\n                    }\n                });\n            }\n            return popup;\n        }\n    });\n\n    function preventDefault(ev) { ev.preventDefault(); }\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    ui.plugin(ColorPicker);\n\n    kendo.cssProperties.registerPrefix(\"ColorPicker\", \"k-picker-\");\n\n    kendo.cssProperties.registerValues(\"ColorPicker\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n"],"names":["define","$","window","kendo","jQuery","undefined","ui","Widget","parseColor","TabKeyTrap","Popup","extend","NS","KEYDOWN_NS","DISABLED","ColorSelector","init","element","options","that","this","fn","call","is","_initialValue","_preventDefaultLabelClick","_value","value","_tabIndex","attr","_standalone","_triggerSelect","_triggerChange","name","ARIATemplate","events","color","_updateInput","_updateUI","opacity","toCssRgba","toCss","enable","arguments","length","wrapper","toggleClass","_onEnable","_attachFocusEvents","on","_navKeydown","bind","_navFocusout","val","_innerTabindex","find","_isInputTypeColor","el","test","tagName","type","setTimeout","contains","document","activeElement","_releaseInnerFocus","e","keyCode","keys","ENTER","preventDefault","_trapInnerFocus","ESC","trigger","_tabKeyTrap","removeTrap","_select","nohooks","prev","equals","_navigation","indexOf","replace","_otOfPicker","_ariaTemplate","template","aria-label","tabindex","removeAttr","trap","triggerEvent","destroy","off","label","closest","id","add","ev","noop","formattedValue","valueForLabel","a","_selectOnHide","_cancel","self","colorpicker","amd","a1","a2","a3","Color","AA_CONTRAST","AAA_CONTRAST","STEP_COUNT","getContrast","luminance1","luminance2","brightest","Math","max","darkest","min","getContrastFromTwoRGBAs","b","getLuminance","getRGBFromRGBA","r","g","rgb","map","v","pow","foregroundColor","backgroundColor","r1","fitIntoBounds","g1","b1","r2","g2","b2","round","contender","isPresent","isNaN","renderSvgCurveLine","gradientRectMetrics","hsva","findValue","contrast","saturation","low","high","comparer","mid","currentHsva","s","width","height","currentContrast","getColorFromHSV","toBytes","reversedComparer","getPaths","stepCount","reversed","points","i","push","bezierCommandCalc","bezierCommand","controlPoint","line","paths","svgPath","command","reducer","acc","point","format","d","reduce","controlPointCalc","cps","cpe","lineCalc","current","previous","next","reverse","p","n","smooth","l","angle","PI","x","cos","y","sin","pointA","pointB","lengthX","lengthY","sqrt","atan2","hue","h","alpha","fromHSV","contrastToolUtils","__meta__","category","description","depends","Observable","KEYS","BACKGROUNDCOLOR","WHITE","BLACK","callback","obj","apply","ColorInput","_viewModel","observable","switchMode","keydown","mode","get","formats","hex","_changeHandler","change","_render","_template","unbind","field","_color","_tryParseColor","set","sender","_preventChangeEvent","textbox","target","data","_change","reset","model","currentFormat","index","append","ns","guid","parent","error","ColorGradient","deepExtend","messages","previewInput","_wrapper","_sliders","_hsvArea","_gradientInputs","hsvDragARIATemplate","input","contrastTool","size","contrastRatio","fail","pass","toggleFormat","red","green","blue","focus","_hsvHandle","setBackgroundColor","isPlainObject","_updateColorContrast","_getHSV","rect","_hsvRect","handlePosition","position","toHSV","_hueSlider","left","top","_opacitySlider","_colorgradientInputs","_colorInput","hsvRect","hsvHandle","_hsvKeydown","_hsvDragAriaTemplate","update","offset","dx","dy","rw","rh","resultX","resultY","_svChange","_hsvEvents","UserEvents","global","press","getOffset","location","start","addClass","move","end","removeClass","prop","c","shiftKey","LEFT","ctrlKey","RIGHT","UP","DOWN","F2","select","_reset","_resetHsv","_resetColorContrast","contrastOptions","_contrastTool","_updateHsv","hueSlider","opacitySlider","hueChange","kendoSlider","tickPlacement","showButtons","orientation","slide","opacityChange","contrastRatioTemplate","labelTemplate","output","ratio","limit","level","remove","_updateContrastSvg","svgClassName","metrics","newSvg","css","_hueElements","_updateHsvAria","aria-valuenow","aria-valuetext","dontChangeInput","wrap","role","aria-keyshortcuts","_selectedColor","_colorAsText","plugin","DOT","ITEMSELECTEDCLASS","ITEMSFOCUSEDCLASS","TILE_CLASS","SIMPLEPALETTE","WEBPALETTE","FOCUS_NS","CLICK_NS","BLUR_NS","relative","array","delta","Array","prototype","slice","pos","ColorPalette","_selectedID","ariaId","_attachEvents","columns","tileSize","palette","currentTarget","_keydown","_focus","_colors","colors","split","isArray","_current","item","selected","first","newCurrent","items","filter","parentNode","children","previousSibling","nextSibling","nodeType","_tileSize","parseFloat","Error","each","html","MESSAGES","NO_COLOR","SELECTED","PREVIEW_MASK","ARIA_PRESSED","ARIA_DISABLED","VIEWS","gradient","FlatColorPicker","autoupdate","_changeView","view","_setViewSize","_previousColor","toDisplay","_view","_viewsContainer","empty","buttons","preview","clearButton","views","cancel","noColor","clearColor","_clearColor","viewButton","_updatePreviousColor","selector","selectedColor","hsvColor","_cachedHue","appendTo","dontChangeView","previewWidth","parseInt","previewHeight","previewColumns","style","setProperty","buttonOptions","fillMode","themeColor","rounded","renderButton","icon","ColorPicker","_buttonHtml","content","_inputWrapper","_applyCssClasses","hide","after","accesskey","isDefaultPrevented","toggle","_popup","_selector","arrow","close","closeOnSelect","toolIcon","open","_getPopup","selOptions","_closing","handler","visible","_noColorIcon","dontChangeSelector","key","popup","selectorType","selectorWrapper","body","kendoPopup","anchor","adjustSize","clickedOutside","event","MouseEvent","parents","activate","cssProperties","registerPrefix","registerValues","values","roundedValues","concat"],"mappings":"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"}